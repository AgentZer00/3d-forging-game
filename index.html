<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blacksmith's Forge - 3D Forging Simulator</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="loading-screen">
        <div class="loading-content">
            <h1>Blacksmith's Forge</h1>
            <div class="loading-bar">
                <div class="loading-progress" id="loadingProgress"></div>
            </div>
            <p id="loadingText">Heating the forge...</p>
        </div>
    </div>

    <div id="ui-overlay">
        <div class="top-panel">
            <div class="stat-group">
                <h3>Forge Temperature</h3>
                <div class="temp-bar">
                    <div class="temp-fill" id="forgeTemp"></div>
                </div>
                <span id="forgeTempText">1200°C</span>
            </div>

            <div class="stat-group">
                <h3>Metal Temperature</h3>
                <div class="temp-bar metal">
                    <div class="temp-fill" id="metalTemp"></div>
                </div>
                <span id="metalTempText">20°C</span>
            </div>

            <div class="stat-group">
                <h3>Blade Quality</h3>
                <div class="quality-bar">
                    <div class="quality-fill" id="qualityBar"></div>
                </div>
                <span id="qualityText">0%</span>
            </div>
        </div>

        <div class="controls-panel">
            <h3>Controls</h3>
            <div class="control-list">
                <p><strong>WASD:</strong> Move around</p>
                <p><strong>Mouse:</strong> Look around</p>
                <p><strong>Left Click / Space:</strong> Swing hammer</p>
                <p><strong>E:</strong> Heat metal (near forge)</p>
                <p><strong>Q:</strong> Quench metal (near water)</p>
                <p><strong>R:</strong> Reset metal</p>
                <p><strong>ESC:</strong> Release mouse</p>
            </div>
        </div>

        <div class="instructions">
            <h2>How to Forge a Blade</h2>
            <ol>
                <li>Walk to the <strong>forge</strong> (left side) and press <strong>E</strong> to heat your metal</li>
                <li>Watch the temperature - aim for <strong>800-1100°C</strong> (green bar)</li>
                <li>Walk to the <strong>anvil</strong> (center) and <strong>click</strong> to hammer</li>
                <li>Strike while the metal is hot for maximum quality</li>
                <li>Reheat when the metal cools (bar turns orange/red)</li>
                <li>When quality reaches <strong>80%+</strong>, press <strong>Q</strong> near the water barrel to finish!</li>
            </ol>
        </div>

        <div class="click-prompt" id="clickPrompt">
            <h2>Click to Start</h2>
            <p>Click anywhere to begin forging</p>
        </div>

        <button id="vrButton" class="vr-button">Enter VR Mode</button>
    </div>

    <div id="game-container"></div>

    <!-- Three.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="game.js"></script>
    <script>
        // Hide click prompt once pointer is locked
        document.addEventListener('pointerlockchange', function() {
            const prompt = document.getElementById('clickPrompt');
            if (document.pointerLockElement) {
                prompt.style.display = 'none';
            } else {
                prompt.style.display = 'block';
            }
        });
    </script>
</body>
</html>
